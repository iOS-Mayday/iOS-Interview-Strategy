# 4. äºŒå‰æ ‘
å‰é¢ä»‹ç»äº†æ•°ç»„ã€å­—å…¸ã€å­—ç¬¦ä¸²ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—çš„å¤„ç†å’Œåº”ç”¨æ–¹æ³•ã€‚æœ¬èŠ‚å°†ä¼šæ¢è®¨å¹³å¸¸ç›¸å¯¹å¾ˆå°‘ç”¨åˆ°ã€é¢è¯•ä¸­å´æ˜¯è€é¢å­”çš„æ•°æ®ç»“æ„ï¼šäºŒå‰æ ‘ã€‚æœ¬èŠ‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-a2dcf3591cd23383.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


*   åŸºæœ¬æ¦‚å¿µï¼šå®ç°ï¼Œæ·±åº¦ ï¼ŒäºŒå‰æŸ¥æ‰¾æ ‘
*   äºŒå‰æ ‘çš„éå†
*   è‹¹æœå…¬å¸é¢è¯•é¢˜ï¼šåœ¨ iOS ä¸­å±•ç¤ºäºŒå‰æ ‘

## äºŒå‰æ ‘çš„åŸºæœ¬æ¦‚å¿µ

![](https://upload-images.jianshu.io/upload_images/22877992-3527805b203c38ec.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

é¦–å…ˆä»‹ç»ä¸‹äºŒå‰æ ‘ã€‚äºŒå‰æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œä¸€èˆ¬ç§°ä¸ºå·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”äºŒå‰æ ‘çš„å­æ ‘æœ‰å·¦å³ä¹‹åˆ†ï¼Œå…¶æ¬¡åºä¸èƒ½ä»»æ„é¢ å€’ã€‚ä¸‹é¢æ˜¯èŠ‚ç‚¹çš„ Swift å®ç°ï¼š

```
public class TreeNode {
  public var val: Int
  public var left: TreeNode?
  public var right: TreeNode?
  public init(_val: Int) {
    self.val = val
  }
}

```

ä¸€èˆ¬åœ¨é¢è¯•ä¸­ï¼Œä¼šç»™å®šäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚è¦è®¿é—®ä»»ä½•å…¶ä»–èŠ‚ç‚¹ï¼Œåªè¦ä»èµ·å§‹èŠ‚ç‚¹å¼€å§‹å¾€å·¦/å³èµ°å³å¯ã€‚

åœ¨äºŒå‰æ ‘ä¸­ï¼ŒèŠ‚ç‚¹çš„å±‚æ¬¡ä»æ ¹å¼€å§‹å®šä¹‰ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ‘ä¸­èŠ‚ç‚¹çš„æœ€å¤§å±‚æ¬¡ä¸ºæ ‘çš„**æ·±åº¦**ã€‚

```
// è®¡ç®—æ ‘çš„æœ€å¤§æ·±åº¦
func maxDepth(root: TreeNode?) -> Int {
  guard let root = root else {
    return 0
  }
  return max(maxDepth(root.left), maxDepth(root.right)) + 1
}

```

é¢è¯•ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯å·¦å­æ ‘ä¸­èŠ‚ç‚¹çš„å€¼éƒ½å°äºæ ¹èŠ‚ç‚¹çš„å€¼ï¼Œå³å­æ ‘ä¸­èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œæ€ä¹ˆåˆ¤æ–­å®ƒæ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ï¼Ÿæˆ‘ä»¬æ ¹æ®å®šä¹‰ï¼Œå¯ä»¥å†™å‡ºä»¥ä¸‹è§£æ³•ï¼š

```
// åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯å¦ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘
func isValidBST(root: TreeNode?) -> Bool {
  return _helper(root, nil, nil)
}

private func _helper(node: TreeNode?, _ min: Int?, _ max: Int?) -> Bool {
  guard let node = node else {
    return true
  }
  // æ‰€æœ‰å³å­èŠ‚ç‚¹éƒ½å¿…é¡»å¤§äºæ ¹èŠ‚ç‚¹
  if let min = min, node.val <= min {
    return false
  }
  // æ‰€æœ‰å·¦å­èŠ‚ç‚¹éƒ½å¿…é¡»å°äºæ ¹èŠ‚ç‚¹
  if let max = max, node.val >= max {
    return false
  }

  return _helper(node.left, min, node.val) && _helper(node.right, node.val, max)
}

```

ä¸Šé¢çš„ä»£ç æœ‰è¿™å‡ ä¸ªç‚¹å€¼å¾—æ³¨æ„ï¼š

1.  äºŒå‰æ ‘æœ¬èº«æ˜¯ç”±é€’å½’å®šä¹‰çš„ï¼Œæ‰€ä»¥åŸç†ä¸Šæ‰€æœ‰äºŒå‰æ ‘çš„é¢˜ç›®éƒ½å¯ä»¥ç”¨é€’å½’æ¥è§£
2.  äºŒå‰æ ‘è¿™ç±»é¢˜ç›®å¾ˆå®¹æ˜“å°±ä¼šç‰µæ¶‰åˆ°å¾€å·¦å¾€å³èµ°ï¼Œæ‰€ä»¥å†™ helper å‡½æ•°è¦æƒ³åˆ°æœ‰ä¸¤ä¸ªç›¸å¯¹åº”çš„å‚æ•°
3.  è®°å¾—å¤„ç†èŠ‚ç‚¹ä¸º nil çš„æƒ…å†µï¼Œå°¤å…¶è¦æ³¨æ„æ ¹èŠ‚ç‚¹ä¸º nil çš„æƒ…å†µ

## äºŒå‰æ ‘çš„éå†

æœ€å¸¸è§çš„æ ‘çš„éå†æœ‰ 3 ç§ï¼Œå‰åºã€ä¸­åºã€ååºéå†ã€‚è¿™ 3 ç§å†™æ³•ç›¸ä¼¼ï¼Œæ— éæ˜¯é€’å½’çš„é¡ºåºç•¥æœ‰ä¸åŒã€‚é¢è¯•æ—¶å€™æœ‰å¯èƒ½è€ƒå¯Ÿçš„æ˜¯ç”¨éé€’å½’çš„æ–¹æ³•å†™è¿™ 3 ç§éå†ï¼šç”¨æ ˆå®ç°ã€‚

```
// ç”¨æ ˆå®ç°çš„å‰åºéå†
func preorderTraversal(root: TreeNode?) -> [Int] {
  var res = [Int]()
  var stack = [TreeNode]()
  var node = root

  while !stack.isEmpty || node != nil {
    if node != nil {
      res.append(node!.val)
      stack.append(node!)
      node = node!.left
    } else {
      node = stack.removeLast().right
    }
  }

  return res
}

```

é™¤äº†è¿™ä¸‰ç§æœ€å¸¸è§çš„éå†ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§éå†æ˜¯å±‚çº§éå†ï¼ˆå¹¿åº¦ä¼˜å…ˆéå†ï¼‰ï¼Œè¯·çœ‹ä¸‹å›¾ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-61b47da981769e2e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è¿™æ£µæ ‘çš„å±‚çº§éå†ç»“æœä¸º[[1], [2, 3], [4, 5, 6, 7], [8, 9, 10, 11, 12, 13, 14, 15]]ã€‚

å±‚çº§éå†ç›¸æ¯”äºä»¥ä¸Š 3 ç§å¸¸è§éå†çš„å¥½å¤„åœ¨äºï¼šå¦‚æœæ„å»ºä¸€æ£µæ ‘ï¼Œé‚£ä¹ˆè‡³å°‘è¦çŸ¥é“ä¸­åºéå†å’Œå‰åº/ååºéå†ä¸­çš„ä¸€ç§ï¼Œä¹Ÿå°±æ˜¯è‡³å°‘è¦çŸ¥é“ä¸¤ç§éå†æ–¹å¼ï¼›ä½†æ˜¯å±‚çº§éå†è‡ªå·±ä¾¿å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ£µæ ‘ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢ä¸€é“è‹¹æœå…¬å¸çš„é¢è¯•é¢˜ã€‚

## äºŒå‰æ ‘é¢è¯•å®æˆ˜é¢˜

> è¯·è®¾è®¡ä¸€ä¸ªåº”ç”¨å¯ä»¥å±•ç¤ºä¸€é¢—äºŒå‰æ ‘ã€‚

é¦–å…ˆä¸€ä¸ªç®€å•çš„ App æ˜¯ MVC æ¶æ„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¦æƒ³ï¼Œåœ¨ View çš„å±‚é¢ä¸Šè¡¨ç¤ºä¸€æ£µäºŒå‰æ ‘ï¼Ÿæˆ‘ä»¬è„‘æµ·ä¸­æµ®ç°æ ‘çš„ç»“æ„æ˜¯è¿™æ ·çš„ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-4b594de6cc020237.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

æ‰€ä»¥æ˜¯ä¸æ˜¯åœ¨ View çš„ç•Œé¢ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹å¼„ä¸ª UILabel æ¥è¡¨ç¤ºï¼Œç„¶åç”¨æ•°å­¦æ–¹æ³•è®¡ç®—æ¯ä¸ª UIlabel å¯¹åº”çš„ä½ç½®ï¼Œä»è€Œå®Œç¾çš„æ˜¾ç¤ºä¸Šå›¾çš„æ ·å­ï¼Ÿ

è¿™ä¸ªæƒ³æ³•æ¯”è¾ƒç®€å•ç²—æš´ï¼Œæ˜¯æœ€å®¹æ˜“æƒ³åˆ°ï¼Œå®ç°ä¹‹ååˆæ˜¯æœ€ç›´è§‚å±•ç¤ºä¸€æ£µäºŒå‰æ ‘çš„ï¼Œä½†æ˜¯å®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š

*   æ¯ä¸ª UILabel çš„ä½ç½®è®¡ç®—èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼›
*   å¦‚æœä¸€æ£µæ ‘æœ‰å¾ˆå¤šèŠ‚ç‚¹ï¼ˆæ¯”å¦‚1000ä¸ªï¼‰ï¼Œé‚£ä¹ˆå½“å‰ç•Œé¢å°±ä¼šæ˜¾ç¤ºä¸ä¸‹äº†ï¼Œè¿™æ—¶å€™å’‹åŠï¼Ÿå°±ç®—ç”¨ UIScrollView æ¥å¤„ç†ï¼Œæ•´ä¸ªæ ‘ä¹Ÿä¼šå˜å¾—éå¸¸ä¸ç›´è§‚ï¼Œæ¯ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„ UILabel ä½ç½®è®¡ç®—èµ·æ¥å°±ä¼šæ›´è´¹åŠ›ã€‚

è¦å¤„ç†å¤§é‡æ•°æ®ï¼Œæˆ‘ä»¬å°±æƒ³åˆ°äº† UITableViewã€‚å‡å¦‚æ¯ä¸€ä¸ª cell å¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»¥åŠå…¶å·¦ã€å³èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ¸…æ™°çš„å±•ç¤ºä¸€æ£µæ ‘ã€‚æ¯”å¦‚ä¸Šå›¾è¿™æ£µæ ‘ï¼Œç”¨ UITableView å°±å¯ä»¥å†™æˆè¿™æ ·ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-621c0932d2edc6e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å…¶ä¸­"#"è¡¨ç¤ºç©ºèŠ‚ç‚¹ã€‚æ˜çœ¼äººå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬æ˜¯æŒ‰ç…§å±‚çº§éå†çš„æ–¹å¼å¸ƒå±€æ•´ä¸ª UITableViewã€‚è¿™ç§åšæ³•è§£å†³äº†ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼š

*   æ— éœ€è¿›è¡Œä½ç½®è®¡ç®—ï¼ŒUITableView æä¾›å¤ç”¨ Cellï¼Œæ•ˆç‡å¤§å¹…æé«˜
*   é¢å¯¹å¾ˆå¤šèŠ‚ç‚¹çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆå¤„ç†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œç„¶åç”¨å¤„ç† infinite scroll çš„æ–¹å¼æ¥åŠ è½½å‰©ä½™æ•°æ®

æ¥ç€é—®é¢˜æ¥äº†ï¼Œç»™ä½ ä¸€æ£µäºŒå‰æ ‘ï¼Œå¦‚ä½•å¾—åˆ°å®ƒçš„å±‚çº§éå†ï¼Ÿå…¶å®å±‚çº§éå†å°±æ˜¯å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†ï¼Œè€Œå¹¿åº¦ä¼˜å…ˆéå†å¾ˆè‡ªç„¶å°±ä¼šç”¨åˆ°é˜Ÿåˆ—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨ç”¨é˜Ÿåˆ—æ¥å¸®åŠ©å®ç°æ ‘çš„å±‚çº§éå†ï¼š

```
func levelOrder(root: TreeNode?) -> [[Int]] {
  var res = [[Int]]()
  // ç”¨æ•°ç»„æ¥å®ç°é˜Ÿåˆ—
  var queue = [TreeNode]()

  if let root = root {
    queue.append(root)
  }

  while queue.count > 0 {
    var size = queue.count
    var level = [Int]()

    for _ in 0 ..< size {
      let node = queue.removeFirst()

      level.append(node.val)
      if let left = node.left {
        queue.append(left)
      }
      if let right = node.right {
        queue.append(right)
      }
    }
    res.append(level)
  }

  return res
}

```

## æ€»ç»“

åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»æŠŠé‡è¦çš„æ•°æ®ç»“æ„éƒ½åˆ†æäº†ä¸€éã€‚è¦çŸ¥é“ï¼Œè¿™äº›æ•°æ®ç»“æ„éƒ½ä¸æ˜¯å•ç‹¬å­˜åœ¨çš„ï¼Œæˆ‘ä»¬åœ¨è§£å†³äºŒå‰æ ‘çš„é—®é¢˜æ—¶ï¼Œç”¨åˆ°äº†é˜Ÿåˆ—ï¼›è§£å†³æ•°ç»„çš„é—®é¢˜ï¼Œä¹Ÿä¼šç”¨åˆ°å­—å…¸æˆ–æ˜¯æ ˆã€‚åœ¨çœŸæ­£é¢è¯•æˆ–æ˜¯æ—¥å¸¸å¼€å‘ä¸­ï¼Œæœ€ä½çš„æ—¶é—´å¤æ‚åº¦æ˜¯é¦–è¦è€ƒè™‘ï¼Œæ¥ç€æ˜¯ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼Œå…¶æ¬¡åƒä¸‡ä¸è¦å¿˜è®°è€ƒè™‘è¾¹ç•Œæƒ…å†µã€‚åœ¨Swift ä¸­ï¼Œç”¨ let å’Œ var çš„åœ°æ–¹è¦åŒºåˆ†æ¸…æ¥šï¼Œè¯¥ä¸è¯¥å®šä¹‰æ•°æ®ä¸º optionalï¼Œæœ‰æ²¡æœ‰å¤„ç† nil çš„æƒ…å†µéƒ½æ˜¯å¾ˆå®¹æ˜“å¿½ç•¥çš„ã€‚

# 5. æ’åºå’Œæœç´¢
å‰å‡ èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æ¢è®¨äº†æ•°æ®ç»“æ„ï¼šæ¯”å¦‚æ•°ç»„ã€é“¾è¡¨ã€é˜Ÿåˆ—ã€æ ‘ã€‚è¿™äº›æ•°æ®ç»“æ„éƒ½æ˜¯äº†è§£ Swift å’Œç®—æ³•çš„åŸºç¡€ã€‚ä»ä»Šä»¥åçš„æ–‡ç« ï¼Œæˆ‘ä»¬å°†æ›´å¤šçš„å…³æ³¨äºé€šç”¨ç®—æ³•ï¼Œè¿™æ¬¡æˆ‘ä»¬å°±æ¥èŠèŠæ’åºå’Œæœç´¢ã€‚
æ’åºçš„åŸºæœ¬æ¦‚å¿µ

è¯´åˆ°æ’åºï¼Œæˆ‘ä»¬å¹³å¸¸ç”¨çš„ç®—æ³•ä¸€èˆ¬å°±ä»¥ä¸‹å‡ ç§ï¼š

| åç§° | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | æ˜¯å¦ç¨³å®š |
| --- | --- | --- | --- |
| å†’æ³¡æ’åº | O(n^2) | O(1) | æ˜¯ |
| æ’å…¥æ’åº | O(n^2) | O(1) | æ˜¯ |
| é€‰æ‹©æ’åº | O(n^2) | O(1) | å¦ |
| å †æ’åº | O(nlogn) | O(1) | å¦ |
| å½’å¹¶æ’åº | O(nlogn) | O(n) | æ˜¯ |
| å¿«é€Ÿæ’åº | O(nlogn) | O(logn) | å¦ |
| æ¡¶æ’åº | O(n) | O(k) | æ˜¯ |

è¿™äº›ç®—æ³•å…·ä½“çš„å®šä¹‰æœ¬æ–‡ä¸å†èµ˜è¿°ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¥½çš„æ’åºç®—æ³•æ€§èƒ½æ˜¯ O(nlogn)ï¼Œåçš„æ€§èƒ½æ˜¯ O(n^2)ã€‚æœ¬æ–‡åœ¨æ­¤ç”¨ Swift ç¤ºèŒƒå®ç°å½’å¹¶æ’åºå’Œå¿«é€Ÿæ’åºï¼š

```
// å½’å¹¶æ’åº
func mergeSort(_ array: [Int]) -> [Int] {
  guard array.count > 1 else {
    return array
  }

  // åˆ†å‰²
  let middleIndex = array.count / 2
  let leftArray = mergeSort(Array(array[0..<middleIndex]))
  let rightArray = mergeSort(Array(array[middleIndex..<array.count]))

  // å½’å¹¶
  return merge(leftArray, rightArray)
}

// åˆå¹¶ä¸¤ä¸ªå·²ç»æŒ‰åºæ’åˆ—çš„æ•°ç»„
func merge(_ left: [Int], _ right: [Int]) -> [Int] {
  var leftIndex = 0, rightIndex = 0
  var orderedArray = [Int]()

  while leftIndex < left.count || rightIndex < right.count {
    if leftIndex < left.count && rightIndex < right.count {
      if left[leftIndex] <= right[rightIndex] {
        orderedArray.append(left[leftIndex])
        leftIndex += 1
      } else {
        orderedArray.append(right[rightIndex])
        rightIndex += 1
      }
    } else if leftIndex < left.count {
      orderedArray.append(left[leftIndex])
      leftIndex += 1
    } else {
      orderedArray.append(right[rightIndex])
      rightIndex += 1

    }
  }

  return orderedArray
}

// å¿«é€Ÿæ’åº
func quicksort(_ array:[Int]) -> [Int] {
  guard array.count > 1 else {
    return array
  }
  let pivot = array[array.count / 2]
  let left = array.filter { $0 < pivot }
  let middle = array.filter { $0 == pivot }
  let right = array.filter { $0 > pivot }

  return quicksort(left) + middle + quicksort(right)
}

```

è¡¨æ ¼ä¸­æœ‰ä¸€ä¸ªç‰¹ä¾‹æ˜¯æ¡¶æ’åºï¼Œå®ƒæ˜¯å°†è¾“å…¥çš„æ•°ç»„åˆ†é…åˆ°ä¸€å®šæ•°é‡çš„ç©ºæ¡¶ä¸­ï¼Œæ¯ä¸ªç©ºæ¡¶å†å•ç‹¬æ’åºã€‚å½“è¾“å…¥çš„æ•°ç»„æ˜¯å‡åŒ€åˆ†é…æ—¶ï¼Œæ¡¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ä¸¾ä¸ªå¾®è½¯çš„é¢è¯•é¢˜æ¥å½“ä¾‹å­ï¼š

> æœ‰ä¸‰ç§é¢œè‰²ï¼ˆçº¢ï¼Œé»„ï¼Œè“ï¼‰çš„çƒè‹¥å¹²ï¼Œè¦æ±‚å°†æ‰€æœ‰çº¢è‰²çš„çƒæ”¾åœ¨é»„è‰²çƒçš„å‰é¢ï¼Œæœ€åæ”¾ä¸Šæ‰€æœ‰çš„è“è‰²çƒã€‚

è¿™é“é¢˜ç›®æœ€ç›´æ¥çš„è§£æ³•å°±æ˜¯æ¡¶æ’åºã€‚é¦–å…ˆç¬¬ä¸€æ¬¡éå†ï¼Œç»Ÿè®¡æœ‰å¤šå°‘ä¸ªçº¢è‰²çƒï¼ˆå‡è®¾ x ä¸ªï¼‰ï¼Œå¤šå°‘ä¸ªé»„è‰²çƒï¼ˆå‡è®¾ y ä¸ªï¼‰ï¼Œå’Œå¤šå°‘ä¸ªè“è‰²çƒï¼ˆå‡è®¾ z ä¸ªï¼‰ã€‚ç„¶åå†ä¸€æ¬¡éå†ï¼Œæ•°ç»„å‰éƒ¨ x ä¸ªä½ç½®å¡«å……çº¢è‰²çƒï¼Œä¸­é—´ y ä¸ªä½ç½®æ”¾ä¸Šå¯¹åº”æ•°é‡çš„é»„è‰²çƒï¼Œæœ€å z ä¸ªä½ç½®å†æ”¾ä¸Šè“è‰²çƒã€‚

å¦å¤–è§£é‡Šä¸€ä¸‹ç¨³å®šçš„æ„æ€ï¼šç›¸ç­‰çš„é”®å€¼ï¼Œå¦‚æœæ’è¿‡åºåä¸åŸæ¥æœªæ’åºçš„æ¬¡åºç›¸åŒï¼Œåˆ™ç§°æ­¤æ’åºç®—æ³•ä¸ºç¨³å®šã€‚ä¸¾ä¸ªä¾‹å­ï¼š

```
// åŸæ•°ç»„
[[2, 1], [1,3], [1,4]]

// æ’åºç®—æ³•ä¸€
[[1,3], [1,4], [2, 1]]
// æ’åºç®—æ³•äºŒ
[[1,4], [1,3], [2, 1]]

```

æˆ‘ä»¬æ³¨æ„åˆ°æ’åºç®—æ³•ä¸€å’ŒäºŒçš„åŒºåˆ«å°±åœ¨äºå¯¹[1, 3], [1, 4]è¿™ä¸¤ä¸ªå…ƒç´ çš„å¤„ç†ã€‚æ’åºç®—æ³•ä¸€ä¸­ï¼Œè¿™ä¸¤ä¸ªå…ƒç´ ä½ç½®ä¸åŸæ•°ç»„ç›¸åŒï¼Œæ•…ç§°å…¶ä¸ºç¨³å®šç®—æ³•ã€‚è€Œæ’åºç®—æ³•äºŒåˆ™æ˜¯ä¸ç¨³å®šç®—æ³•ã€‚
åœ¨ Swift ä¸­ï¼Œæ’åºçš„ä½¿ç”¨å¦‚ä¸‹ï¼š

```
// ä»¥å‡åºæ’åˆ—ä¸ºä¾‹ï¼ŒåŸæ•°ç»„å¯æ”¹å˜
array.sort()

// ä»¥é™åºæ’åˆ—ä¸ºä¾‹ï¼ŒåŸæ•°ç»„ä¸å¯æ”¹å˜
newArray = array.sorted(by: >)

// å­—å…¸é”®å€¼æ’åºç¤ºä¾‹
let keys = Array(map.keys)
let sortedKeys = keys.sorted() {
  return map[$0]! > map[$1]!
}

```

åœ¨ Java ä¸­ï¼Œå…¶è‡ªå¸¦çš„ sort å‡½æ•°éƒ¨åˆ†æ˜¯ç”¨å½’å¹¶æ’åºå®ç°çš„ã€‚è€Œåœ¨ Swift æºä»£ç ä¸­ï¼Œsort å‡½æ•°é‡‡ç”¨çš„æ˜¯ä¸€ç§å†…çœç®—æ³•ï¼ˆIntroSortï¼‰ã€‚å®ƒç”±å †æ’åºã€æ’å…¥æ’åºã€å¿«é€Ÿæ’åº 3 ç§ç®—æ³•æ„æˆï¼Œä¾æ®è¾“å…¥çš„æ·±åº¦é€‰æ‹©æœ€ä½³çš„ç®—æ³•æ¥å®Œæˆã€‚æœ¬ä¹¦å…³æ³¨çš„é‡ç‚¹æ˜¯å®æˆ˜ï¼Œæ‰€ä»¥ä¸åšå±•å¼€ã€‚å¯¹æºä»£ç æ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥åœ¨ GitHub ä¸Šè¯»å–è‹¹æœå…¬å¸çš„ Swift å¼€æºåº“ã€‚

## æœç´¢çš„åŸºæœ¬æ¦‚å¿µ

ä¸€èˆ¬æœ€ç›´æ¥çš„æœç´¢å°±æ˜¯éå†é›†åˆï¼Œç„¶åæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚è¿™ç§ç›´æ¥çš„æš´åŠ›æœç´¢æ³•å®ç°èµ·æ¥ç®€å•ï¼Œä½†æ˜¯å½“è¾“å…¥æ•°æ®ååˆ†å·¨å¤§çš„æ—¶å€™ï¼Œæœç´¢èµ·æ¥å°±ä¼šå¾ˆæ…¢ï¼ˆå¤æ‚åº¦ O(n)ï¼‰ã€‚æœ¬èŠ‚å°†æ¢è®¨ç®—æ³•å¤æ‚åº¦æ›´ä½ã€æ•ˆæœæ›´å¥½çš„æœç´¢æ–¹æ³• â€”â€” äºŒåˆ†æœç´¢ã€‚

äºŒåˆ†æœç´¢ï¼Œå³åœ¨æœ‰åºæ•°ç»„ä¸­ï¼ŒæŸ¥æ‰¾æŸä¸€ç‰¹å®šå…ƒç´ çš„æœç´¢ã€‚å®ƒä»ä¸­é—´çš„å…ƒç´ å¼€å§‹ï¼Œå¦‚æœä¸­é—´çš„å…ƒç´ æ˜¯è¦æ‰¾çš„å…ƒç´ ï¼Œåˆ™è¿”å›ï¼›è‹¥ä¸­é—´å…ƒç´ å°äºè¦æ‰¾çš„å…ƒç´ ï¼Œåˆ™è¦æ‰¾çš„å…ƒç´ ä¸€å®šåœ¨å¤§äºä¸­é—´å…ƒç´ çš„é‚£ä¸€éƒ¨åˆ†ï¼Œé‚£åªéœ€æœç´¢é‚£éƒ¨åˆ†å³å¯ï¼›åä¹‹æœç´¢å°äºä¸­é—´å…ƒç´ çš„éƒ¨åˆ†å³å¯ã€‚é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°æ‰¾åˆ°æˆ–ç¡®è®¤è¯¥å…ƒç´ ä¸å­˜åœ¨ä¸ºæ­¢ã€‚è¿™æ ·æ¯ä¸€æ¬¡æœç´¢ï¼Œå°±èƒ½å‡å°ä¸€åŠçš„æœç´¢èŒƒå›´ï¼Œæ‰€ä»¥å®ƒçš„**ç®—æ³•å¤æ‚åº¦ä¸º O(logn)**ã€‚

Swift å®ç°äºŒåˆ†æœç´¢

```
// å‡è®¾numsæ˜¯ä¸€ä¸ªå‡åºæ•°ç»„
func binarySearch(_ nums: [Int], _ target: Int) -> Bool {
  var left = 0, mid = 0, right = nums.count - 1

  while left <= right {
    mid = (right - left) / 2 + left

    if nums[mid] == target {
      return true
    } else if nums[mid] < target {
      left = mid + 1
    } else {
      right = mid - 1
    }
  }

  return false
}

```

è¿™é‡Œè¦æ³¨æ„ä¸¤ä¸ªç»†èŠ‚ï¼š

ç¬¬ä¸€ï¼Œmid å®šä¹‰åœ¨ while å¾ªç¯å¤–é¢ï¼Œå¦‚æœå®šä¹‰åœ¨é‡Œé¢ï¼Œåˆ™æ¯æ¬¡å¾ªç¯éƒ½è¦é‡æ–°ç»™ mid åˆ†é…å†…å­˜ç©ºé—´ï¼Œé€ æˆä¸å¿…è¦çš„æµªè´¹ï¼›å®šä¹‰åœ¨å¾ªç¯ä¹‹å¤–ï¼Œæ¯æ¬¡å¾ªç¯åªæ˜¯é‡æ–°èµ‹å€¼ï¼›
ç¬¬äºŒï¼Œæ¯æ¬¡é‡æ–°ç»™ mid èµ‹å€¼ä¸èƒ½å†™æˆ mid = (right + left) / 2ã€‚è¿™ç§å†™æ³•è¡¨é¢ä¸Šçœ‹æ²¡æœ‰é—®é¢˜ï¼Œä½†å½“æ•°ç»„çš„é•¿åº¦éå¸¸å¤§ã€ç®—æ³•åˆå·²ç»æœç´¢åˆ°äº†æœ€å³è¾¹éƒ¨åˆ†çš„æ—¶å€™ï¼Œé‚£ä¹ˆ right + left å°±ä¼šéå¸¸ä¹‹å¤§ï¼Œé€ æˆæº¢å‡ºå¯¼è‡´ç¨‹åºå´©æºƒã€‚æ‰€ä»¥è§£å†³é—®é¢˜çš„åŠæ³•æ˜¯å†™æˆ mid = (right - left) / 2 + leftã€‚

å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é€’å½’æ¥å®ç°äºŒåˆ†æœç´¢ï¼š

```
func binarySearch(nums: [Int], target: Int) -> Bool {
  return binarySearch(nums: nums, target: target, left: 0, right: nums.count - 1)
}

func binarySearch(nums: [Int], target: Int, left: Int, right: Int) -> Bool {
  guard left <= right else {
    return false
  }

  let mid = (right - left) / 2 + left

  if nums[mid] == target {
    return true
  } else if nums[mid] < target {
    return binarySearch(nums: nums, target: target, left: mid + 1, right: right)
  } else {
    return binarySearch(nums: nums, target: target, left: left, right: mid - 1)
  }
}

```

## æ’åºå®æˆ˜

ç›´æ¥æ¥çœ‹ä¸€é“ Facebook, Google, Linkedin éƒ½è€ƒè¿‡çš„é¢è¯•é¢˜ã€‚

> å·²çŸ¥æœ‰å¾ˆå¤šä¼šè®®ï¼Œå¦‚æœæœ‰è¿™äº›ä¼šè®®æ—¶é—´æœ‰é‡å ï¼Œåˆ™å°†å®ƒä»¬åˆå¹¶ã€‚
> æ¯”å¦‚æœ‰ä¸€ä¸ªä¼šè®®çš„æ—¶é—´ä¸º 3 ç‚¹åˆ° 5 ç‚¹ï¼Œå¦ä¸€ä¸ªä¼šè®®æ—¶é—´ä¸º 4 ç‚¹åˆ° 6 ç‚¹ï¼Œé‚£ä¹ˆåˆå¹¶ä¹‹åçš„ä¼šè®®æ—¶é—´ä¸º 3 ç‚¹åˆ°6ç‚¹

è§£å†³ç®—æ³•é¢˜ç›®ç¬¬ä¸€æ­¥æ°¸è¿œæ˜¯æŠŠå…·ä½“é—®é¢˜æŠ½è±¡åŒ–ã€‚è¿™é‡Œæ¯ä¸€ä¸ªä¼šè®®æˆ‘ä»¬å·²çŸ¥å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼Œå°±å¯ä»¥å†™ä¸€ä¸ªç±»æ¥å®šä¹‰å®ƒï¼š

```
public class MeetingTime {
  public var start: Int
  public var end: Int
  public init(_ start: Int, _ end: Int) {
    self.start = start
    self.end = end
  }
}

```

ç„¶åé¢˜ç›®è¯´å·²çŸ¥æœ‰å¾ˆå¤šä¼šè®®ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬å·²çŸ¥æœ‰ä¸€ä¸ª MeetingTime çš„æ•°ç»„ã€æ‰€ä»¥é¢˜ç›®å°±è½¬åŒ–ä¸ºå†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸ºä¸€ä¸ª MeetingTime çš„æ•°ç»„ï¼Œè¾“å‡ºä¸ºä¸€ä¸ªå°†åŸæ•°ç»„ä¸­æ‰€æœ‰é‡å æ—¶é—´éƒ½å¤„ç†è¿‡çš„æ–°æ•°ç»„ã€‚

```
func merge(meetingTimes: [MeetingTime]) -> [MeetingTime] {}

```

ä¸‹é¢æ¥åˆ†æä¸€ä¸‹é¢˜ç›®æ€ä¹ˆè§£ã€‚æœ€åŸºæœ¬çš„æ€è·¯æ˜¯éå†ä¸€æ¬¡æ•°ç»„ï¼Œç„¶åå½’å¹¶æ‰€æœ‰é‡å æ—¶é—´ã€‚ä¸¾ä¸ªä¾‹å­ï¼š[[1, 3], [5, 6], [4, 7], [2, 3]]ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°[1, 3]å’Œ[2, 3]å¯ä»¥å½’å¹¶ä¸º[1, 3]ï¼Œ[5, 6]å’Œ[4, 7]å¯ä»¥å½’å¹¶ä¸º[4, 7]ã€‚æ‰€ä»¥è¿™é‡Œå°±æå‡ºä¸€ä¸ªè¦æ±‚ï¼šè¦å°†æ‰€æœ‰å¯èƒ½é‡å çš„æ—¶é—´å°½é‡æ”¾åœ¨ä¸€èµ·ï¼Œè¿™æ ·éå†çš„æ—¶å€™å¯ä»¥å°±å¯ä»¥ä»å‰å¾€åä¸€ä¸ªæ¥ç€ä¸€ä¸ªçš„å½’å¹¶ã€‚äºæ˜¯å¾ˆè‡ªç„¶çš„æƒ³åˆ° -- æŒ‰ç…§ä¼šè®®å¼€å§‹çš„æ—¶é—´æ’åºã€‚

è¿™é‡Œæˆ‘ä»¬è¦å¯¹ä¸€ä¸ª class è¿›è¡Œæ’åºï¼Œè€Œä¸”è¦è‡ªå®šä¹‰æ’åºæ–¹æ³•ï¼Œåœ¨ Swift ä¸­å¯ä»¥è¿™æ ·å†™ï¼š

```
meetingTimes.sortInPlace() {
  if $0.start != $1.start {
    return $0.start < $1.start
  } else {
    return $0.end < $1.end
  }
}

```

æ„æ€å°±æ˜¯é¦–å…ˆå¯¹å¼€å§‹æ—¶é—´è¿›è¡Œå‡åºæ’åˆ—ï¼Œå¦‚æœå®ƒä»¬ç›¸åŒï¼Œå°±æ¯”è¾ƒç»“æŸæ—¶é—´ã€‚

æœ‰äº†æ’å¥½é¡ºåºçš„æ•°ç»„ï¼Œè¦å¾—åˆ°æ–°çš„å½’å¹¶åçš„ç»“æœæ•°ç»„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨éå†çš„æ—¶å€™ï¼Œæ¯æ¬¡æ¯”è¾ƒåŸæ•°ç»„ï¼ˆæ’åºåï¼‰å½“å‰ä¼šè®®æ—¶é—´ä¸ç»“æœæ•°ç»„ä¸­å½“å‰çš„ä¼šè®®æ—¶é—´ï¼Œå‡å¦‚å®ƒä»¬æœ‰é‡å ï¼Œåˆ™å½’å¹¶ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™ç›´æ¥æ·»åŠ è¿›ç»“æœæ•°ç»„ä¹‹ä¸­ã€‚æ‰€æœ‰ä»£ç å¦‚ä¸‹ï¼š

```
func merge(meetingTimes: [MeetingTime]) -> [MeetingTime] {
  // å¤„ç†ç‰¹æ®Šæƒ…å†µ
  guard meetingTimes.count > 1 else {
    return meetingTimes
  }

  // æ’åº  
  var meetingTimes = meetingTimes.sort() {
    if $0.start != $1.start {
      return $0.start < $1.start
    } else {
      return $0.end < $1.end
    }
  }

  // æ–°å»ºç»“æœæ•°ç»„
  var res = [MeetingTime]()
  res.append(meetingTimes[0])

  // éå†æ’åºåçš„åŸæ•°ç»„ï¼Œå¹¶ä¸ç»“æœæ•°ç»„å½’å¹¶    
  for i in 1..<meetingTimes.count {
    let last = res[res.count - 1]
    let current = meetingTimes[i]
    if current.start > last.end {
      res.append(current)
    } else {
      last.end = max(last.end, current.end)
    }
  }

  return res
}

```

## æœç´¢å®æˆ˜

### ç¬¬ä¸€é¢˜ï¼šç‰ˆæœ¬å´©æºƒ

ä¸€èˆ¬çš„äºŒåˆ†æœç´¢åŸºæœ¬ä¸Šç¨å¾®æœ‰ç‚¹åŸºæœ¬åŠŸçš„éƒ½èƒ½å†™å‡ºæ¥ã€‚æ‰€ä»¥ï¼ŒçœŸæ­£é¢è¯•çš„æ—¶å€™ï¼Œæœ€å¤šä¹Ÿå°±æ˜¯é—®é—®æ¦‚å¿µã€‚çœŸæ­£çš„æœç´¢ç›¸å…³é¢è¯•é¢˜ï¼Œé•¿ä¸‹é¢è¿™ä¸ªæ ·å­ï¼š

> æœ‰ä¸€ä¸ªäº§å“å‘å¸ƒäº† n ä¸ªç‰ˆæœ¬ã€‚å®ƒéµå¾ªä»¥ä¸‹è§„å¾‹ï¼šå‡å¦‚æŸä¸ªç‰ˆæœ¬å´©æºƒäº†ï¼Œåé¢çš„æ‰€æœ‰ç‰ˆæœ¬éƒ½ä¼šå´©æºƒã€‚
> ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªäº§å“å‡å¦‚æœ‰ 5 ä¸ªç‰ˆæœ¬ï¼Œ1ï¼Œ2ï¼Œ3 ç‰ˆéƒ½æ˜¯å¥½çš„ï¼Œä½†æ˜¯ç¬¬ 4 ç‰ˆå´©æºƒäº†ï¼Œé‚£ä¹ˆç¬¬ 5 ä¸ªç‰ˆæœ¬ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰ä¸€å®šä¹Ÿå´©æºƒã€‚ç¬¬ 4 ç‰ˆåˆ™è¢«ç§°ä¸ºç¬¬ä¸€ä¸ªå´©æºƒçš„ç‰ˆæœ¬ã€‚
> 
> ç°åœ¨å·²çŸ¥ä¸€ä¸ªäº§å“æœ‰ n ä¸ªç‰ˆæœ¬ï¼Œè€Œä¸”æœ‰ä¸€ä¸ªæ£€æµ‹ç®—æ³• func isBadVersion(version: Int) -> Bool å¯ä»¥åˆ¤æ–­ä¸€ä¸ªç‰ˆæœ¬æ˜¯å¦å´©æºƒã€‚å‡è®¾è¿™ä¸ªäº§å“çš„æœ€æ–°ç‰ˆæœ¬å´©æºƒäº†ï¼Œæ±‚ç¬¬ä¸€ä¸ªå´©æºƒçš„ç‰ˆæœ¬ã€‚

åˆ†æè¿™ç§é¢˜ç›®ï¼ŒåŒæ ·è¿˜æ˜¯å…ˆæŠ½è±¡åŒ–ã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ‰€æœ‰ç‰ˆæœ¬ä¸ºä¸€ä¸ªæ•°ç»„ [1, 2, 3, ..., n]ï¼Œç°åœ¨æˆ‘ä»¬å°±æ˜¯è¦åœ¨è¿™ä¸ªæ•°ç»„ä¸­æ£€æµ‹å‡ºæ»¡è¶³`isBadVersion(version) == trueä¸­version`Â çš„æœ€å°å€¼ã€‚

å¾ˆå®¹æ˜“å°±æƒ³åˆ°äºŒåˆ†æœç´¢ï¼Œå‡å¦‚ä¸­é—´çš„ç‰ˆæœ¬æ˜¯å¥½çš„ï¼Œç¬¬ä¸€ä¸ªå´©æºƒçš„ç‰ˆæœ¬å°±åœ¨å³è¾¹ï¼Œå¦åˆ™å°±åœ¨å·¦è¾¹ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•å®ç°ï¼š

```
func findFirstBadVersion(version: n) -> Int {
  // å¤„ç†ç‰¹æ®Šæƒ…å†µ
  guard n >= 1 else {
    return -1
  }

  var left = 1, right = n, mid = 0

  while left < right {
    mid = (right - left) / 2 + left
    if isBadVersion(mid) {
      right = mid
    } else {
      left = mid + 1
    }
  }

  return left    // return right åŒæ ·æ­£ç¡®
}

```

è¿™ä¸ªå®ç°æ–¹æ³•è¦æ³¨æ„ä¸¤ç‚¹

```
1.å½“å‘ç°ä¸­é—´ç‰ˆæœ¬(mid)æ˜¯å´©æºƒç‰ˆæœ¬çš„æ—¶å€™ï¼Œåªèƒ½è¯´æ˜ç¬¬ä¸€ä¸ªå´©æºƒçš„ç‰ˆæœ¬å°äºç­‰äºä¸­é—´ç‰ˆæœ¬ã€‚æ‰€ä»¥åªèƒ½å†™æˆ right = midï¼›
2.å½“æ£€æµ‹åˆ°å‰©ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„æ—¶å€™ï¼Œæˆ‘ä»¬å·²ç»æ— éœ€åœ¨æ£€æµ‹ç›´æ¥è¿”å›å³å¯ï¼Œå› ä¸ºå®ƒè‚¯å®šæ˜¯å´©æºƒçš„ç‰ˆæœ¬ã€‚æ‰€ä»¥ while å¾ªç¯ä¸ç”¨å†™æˆ left <= rightã€‚

```

### ç¬¬äºŒé¢˜ï¼šæœç´¢æ—‹è½¬æœ‰åºæ•°ç»„

ä¸Šé¢çš„é¢˜ç›®æ˜¯ä¸€ä¸ªç®€å•çš„äºŒåˆ†æœç´¢å˜ç§ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¤æ‚ç‰ˆæœ¬çš„ï¼š

> ä¸€ä¸ªæœ‰åºæ•°ç»„å¯èƒ½åœ¨æŸä¸ªä½ç½®è¢«æ—‹è½¬ã€‚ç»™å®šä¸€ä¸ªç›®æ ‡å€¼ï¼ŒæŸ¥æ‰¾å¹¶è¿”å›è¿™ä¸ªå…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› -1ã€‚å‡è®¾æ•°ç»„ä¸­æ²¡æœ‰é‡å¤å€¼ã€‚
> 
> ä¸¾ä¸ªä¾‹å­ï¼š[0, 1, 2, 4, 5, 6, 7]åœ¨4è¿™ä¸ªæ•°å­—ä½ç½®ä¸Šè¢«æ—‹è½¬åå˜ä¸º[4, 5, 6, 7, 0, 1, 2]ã€‚æœç´¢ 4 è¿”å› 0 ã€‚æœç´¢ 8 åˆ™è¿”å› -1 ã€‚

å‡å¦‚è¿™ä¸ªæœ‰åºæ•°ç»„æ²¡æœ‰è¢«æ—‹è½¬ï¼Œé‚£å¾ˆç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥é‡‡ç”¨äºŒåˆ†æœç´¢å°±å¯ä»¥è§£å†³ã€‚ç°åœ¨è¢«æ—‹è½¬äº†ï¼Œè¿˜å¯ä»¥é‡‡ç”¨äºŒåˆ†æœç´¢å—ï¼Ÿ

æˆ‘ä»¬å…ˆæ¥æƒ³ä¸€ä¸‹æ—‹è½¬ä¹‹åçš„æƒ…å†µã€‚ç¬¬ä¸€ç§æƒ…å†µæ˜¯æ—‹è½¬ç‚¹é€‰çš„ç‰¹åˆ«å‰ï¼Œè¿™æ ·æ—‹è½¬ä¹‹åå·¦åŠéƒ¨åˆ†å°±æ˜¯æœ‰åºçš„ï¼›ç¬¬äºŒç§æƒ…å†µæ˜¯æ—‹è½¬ç‚¹é€‰çš„ç‰¹åˆ«åï¼Œè¿™æ ·æ—‹è½¬ä¹‹åå³åŠéƒ¨åˆ†å°±æ˜¯æœ‰åºçš„ã€‚å¦‚ä¸‹å›¾ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-372d88427788a5d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

é‚£ä¹ˆæ€ä¹ˆåˆ¤æ–­æ˜¯ç»“æœ 1 è¿˜æ˜¯ç»“æœ 2 å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€‰å–æ•´ä¸ªæ•°ç»„ä¸­é—´å…ƒç´ (mid) ï¼Œä¸æ•°ç»„çš„ç¬¬1ä¸ªå…ƒç´ (left)è¿›è¡Œæ¯”è¾ƒ -- å¦‚æœ mid > leftï¼Œåˆ™æ˜¯æ—‹è½¬ç»“æœ1ï¼Œé‚£ä¹ˆæ•°ç»„çš„å·¦åŠéƒ¨åˆ†å°±æ˜¯æœ‰åºæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¦åŠéƒ¨åˆ†è¿›è¡Œæ­£å¸¸çš„äºŒåˆ†æœç´¢ï¼›åä¹‹åˆ™æ˜¯ç»“æœäºŒï¼Œæ•°ç»„çš„å³åŠéƒ¨åˆ†ä¸ºæœ‰åºæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å³åŠéƒ¨åˆ†è¿›è¡ŒäºŒåˆ†æœç´¢ã€‚

è¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œå³ä½¿æˆ‘ä»¬ä¸€å¼€å§‹æ¸…æ¥šäº†æ—‹è½¬ç»“æœï¼Œä¹Ÿè¦åˆ¤æ–­ä¸€ä¸‹ç›®æ ‡å€¼æ‰€è½çš„åŒºé—´ã€‚å¯¹äºæ—‹è½¬ç»“æœ1ï¼Œæ•°ç»„å·¦è¾¹æœ€å¤§çš„å€¼æ˜¯midï¼Œæœ€å°å€¼æ˜¯leftã€‚å‡å¦‚è¦æ‰¾çš„å€¼targetè½åœ¨è¿™ä¸ªåŒºé—´å†…ï¼Œåˆ™ä½¿ç”¨äºŒåˆ†æœç´¢ã€‚å¦åˆ™å°±è¦åœ¨å³è¾¹çš„èŒƒå›´å†…æœç´¢ï¼Œè¿™ä¸ªæ—¶å€™ç›¸å½“äºå›åˆ°äº†ä¸€å¼€å§‹çš„çŠ¶æ€ï¼Œæœ‰ä¸€ä¸ªæ—‹è½¬çš„æœ‰åºæ•°ç»„ï¼Œåªä¸è¿‡æˆ‘ä»¬å·²ç»å‰”é™¤äº†ä¸€åŠçš„æœç´¢èŒƒå›´ã€‚å¯¹äºæ—‹è½¬ç»“æœ2ï¼Œä¹Ÿç±»ä¼¼å¤„ç†ã€‚å…¨éƒ¨ä»£ç å¦‚ä¸‹ï¼š

```
func search(nums: [Int], target: Int) -> Int {
  var (left, mid, right) = (0, 0, nums.count - 1)

  while left <= right {
    mid = (right - left) / 2 + left

    if nums[mid] == target {
      return mid
    }

    if nums[mid] >= nums[left] {
      if nums[mid] > target && target >= nums[left] {
        right = mid - 1
      } else {
        left = mid + 1
      }
    } else {
      if nums[mid] < target && target <= nums[right] {
        left = mid + 1
      } else {
        right = mid - 1
      }
    }
  }

  return -1
}

```

å¤§å®¶å¯ä»¥æƒ³ä¸€ä¸‹å‡å¦‚æ—‹è½¬åçš„æ•°ç»„ä¸­æœ‰é‡å¤å€¼æ¯”å¦‚[3,4,5,3,3,3]è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ

## iOSä¸­æœç´¢ä¸æ’åºçš„é…åˆä½¿ç”¨

![RSS Reader](https://upload-images.jianshu.io/upload_images/22877992-4c616c2c4b1dfe8f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ä¸Šå›¾æ˜¯iOSä¸­å¼€å‘çš„ä¸€ä¸ªç»å…¸æ¡ˆä¾‹ï¼šæ–°é—»èšåˆé˜…è¯»å™¨(RSS Reader)ã€‚å› ä¸ºæ–°é—»å†…å®¹ç»å¸¸ä¼šæ›´æ–°ï¼Œæ‰€ä»¥æ¯æ¬¡ä¸‹æ‹‰åˆ·æ–°è¿™ä¸ªUITableViewæˆ–æ˜¯ç‚¹å‡»å³ä¸Šè§’åˆ·æ–°æŒ‰é’®ï¼Œç»å¸¸ä¼šæœ‰æ–°çš„å†…å®¹åŠ å…¥åˆ°åŸæ¥çš„dataSourceä¸­ã€‚åˆ·æ–°ååˆç†æ’å…¥æ–°é—»ï¼Œå°±è¦è¿ç”¨åˆ°æœç´¢å’Œæ’åˆ—ã€‚

ç¬”è€…åœ¨è¿™é‡Œæä¾›ä¸€ä¸ªæ–¹æ³•ã€‚é¦–å…ˆï¼Œå†™ä¸€ä¸ª ArrayExtensions.swiftï¼›

```
extension Array {
  func indexForInsertingObject(object: AnyObject, compare: ((a: AnyObject, b: AnyObject) -> Int)) -> Int {
    var left = 0
    var right = self.count
    var mid = 0

    while left < right {
      mid = (right - left) / 2 + left

      if compare(a: self[mid] as! AnyObject, b: object) < 0 {
        left = mid + 1
      } else {
        right = mid
      }
    }

    return left
  }
}

```

ç„¶ååœ¨ FeedsViewController (å°±æ˜¯æ˜¾ç¤ºæ‰€æœ‰æ–°é—»çš„ tableView çš„ controller )é‡Œé¢ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒFeedsViewController é‡Œé¢ä¼šæœ‰ä¸€ä¸ª dataSourceï¼Œæ¯”å¦‚ä¸€ä¸ªè£…æ–°é—»çš„ arrayã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”è®©å®ƒæ¯æ¬¡éƒ½æŒ‰ç…§æ–°é—»çš„æ—¶é—´è¿›è¡Œæ’åºï¼š

```
let insertIdx = news.indexForInsertingObject(object: singleNews) { (a, b) -> Int in
  let newsA = a as! News
  let newsB = b as! News
  return newsA.compareDate(newsB)
}

news.insert(singleNews, at: insertIdx)

```

è¿™é‡Œä½ éœ€è¦åœ¨ News è¿™ä¸ª model é‡Œå®ç° compareDate è¿™ä¸ªå‡½æ•°ã€‚

## æ€»ç»“

æ’åºå’Œæœç´¢åœ¨ Swift ä¸­çš„åº”ç”¨åœºæ™¯å¾ˆå¤šï¼Œæ¯”å¦‚ tableView ä¸­å¯¹äº dataSource çš„å¤„ç†ã€‚äºŒåˆ†æœç´¢æ˜¯ä¸€ç§ååˆ†å·§å¦™å’Œé«˜æ•ˆçš„æœç´¢æ–¹æ³•ï¼Œå®ƒä¼šç»å¸¸é…åˆæ’åºå‡ºç°åœ¨å„ç§æ—¥å¸¸å¼€å‘ä¸­ã€‚å½“ç„¶ï¼ŒäºŒåˆ†æœç´¢ä¹Ÿä¼šå‡ºç°å„ç§å„æ ·çš„å˜ç§ï¼Œå…¶å®ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œå…³é”®æ˜¯æƒ³æ–¹æ³•æ¯æ¬¡å‡å°ä¸€åŠçš„æœç´¢èŒƒå›´å³å¯ã€‚

# æ¨èğŸ‘‡ï¼š

å¦‚æœä½ æƒ³ä¸€èµ·è¿›é˜¶ï¼Œä¸å¦¨æ·»åŠ ä¸€ä¸‹äº¤æµç¾¤[**931 542 608**](https://jq.qq.com/?_wv=1027&k=cfVxrMAH)

é¢è¯•é¢˜èµ„æ–™æˆ–è€…ç›¸å…³å­¦ä¹ èµ„æ–™éƒ½åœ¨ç¾¤æ–‡ä»¶ä¸­ è¿›ç¾¤å³å¯ä¸‹è½½ï¼
![](https://upload-images.jianshu.io/upload_images/22877992-0bfc037cc50cae7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
