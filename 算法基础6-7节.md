# 6. æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ
ä¹‹å‰ä»‹ç»äº†æœ€ç®€å•çš„æœç´¢æ³•ï¼šäºŒåˆ†æœç´¢ã€‚è™½ç„¶å®ƒçš„ç®—æ³•å¤æ‚åº¦éå¸¸ä½åªæœ‰ O(logn)ï¼Œä½†ä½¿ç”¨èµ·æ¥ä¹Ÿæœ‰å±€é™ï¼šåªæœ‰åœ¨è¾“å…¥æ˜¯æ’åºçš„æƒ…å†µä¸‹æ‰èƒ½ä½¿ç”¨ã€‚è¿™æ¬¡è®²è§£ä¸¤ä¸ªæ›´å¤æ‚çš„æœç´¢ç®—æ³•:

![](https://upload-images.jianshu.io/upload_images/22877992-fd3b752f889d6d2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


*   **æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-First-Searchï¼Œä»¥ä¸‹ç®€ç§°DFSï¼‰**
*   **å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth-First-Searchï¼Œä»¥ä¸‹ç®€ç§°BFSï¼‰**

## åŸºæœ¬æ¦‚å¿µ

DFS å’Œ BFS çš„å…·ä½“å®šä¹‰è¿™é‡Œä¸åšèµ˜è¿°ã€‚ç¬”è€…è°ˆè°ˆè‡ªå·±å¯¹æ­¤çš„å½¢è±¡ç†è§£ï¼šå‡å¦‚ä½ åœ¨å®¶ä¸­å‘ç°é’¥åŒ™ä¸è§äº†ï¼Œä¸ºäº†æ‰¾åˆ°é’¥åŒ™ï¼Œä½ æœ‰ä¸¤ç§é€‰æ‹©ï¼š

1.  ä»å½“å‰è§’è½å¼€å§‹ï¼Œé¡ºç€ä¸€ä¸ªæ–¹å‘ä¸åœçš„æ‰¾ã€‚å‡å¦‚è¿™ä¸ªæ–¹å‘å…¨éƒ¨æœç´¢å®Œæ¯•ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°é’¥åŒ™ï¼Œå°±å›åˆ°èµ·å§‹è§’è½ï¼Œä»å¦ä¸€ä¸ªæ–¹å‘å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°é’¥åŒ™æˆ–æ‰€æœ‰æ–¹å‘éƒ½æœç´¢å®Œæ¯•ä¸ºæ­¢ã€‚è¿™ç§æ–¹æ³•å°±æ˜¯ DFSã€‚
2.  ä»å½“å‰è§’è½å¼€å§‹ï¼Œæ¯æ¬¡æŠŠæœ€è¿‘æ‰€æœ‰æ–¹å‘çš„è§’è½å…¨éƒ¨æœç´¢ä¸€éï¼Œç›´åˆ°æ‰¾åˆ°é’¥åŒ™æˆ–æ‰€æœ‰æ–¹å‘éƒ½æœç´¢å®Œæ¯•ä¸ºæ­¢ã€‚è¿™ç§æ–¹æ³•å°±æ˜¯ BFSã€‚

æˆ‘ä»¬å‡è®¾å…±æœ‰ 10 ä¸ªè§’è½ï¼Œèµ·å§‹è§’è½ä¸º 1ï¼Œå®ƒçš„å‘¨å›´æœ‰ 4 ä¸ªæ–¹å‘ï¼Œå¦‚ä¸‹å›¾ï¼š

![](https://upload-images.jianshu.io/upload_images/22877992-5dd1340a0ae7677b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

DFS çš„æœç´¢æ­¥éª¤ä¸ºï¼š

*   1
*   2 -> 3 -> 4
*   5
*   6 ->7 -> 8
*   9 -> 10

å³æ¯æ¬¡æŠŠ**ä¸€ä¸ªæ–¹å‘å½»åº•æœç´¢å®Œå…¨**åï¼Œæ‰è¿”å›æœç´¢ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚

BFS çš„æœç´¢æ­¥éª¤ä¸ºï¼š

*   1
*   2 -> 5 -> 6 -> 9
*   3 -> 4
*   7
*   10
*   8

å³æ¯æ¬¡è®¿é—®**ä¸Šä¸€æ­¥å‘¨å›´æ‰€æœ‰æ–¹å‘ä¸Šçš„è§’è½**ã€‚

ç»†å¿ƒçš„æœ‹å‹ä¼šè®°å¾—ï¼Œæˆ‘ä¹‹å‰åœ¨è®²äºŒå‰æ ‘çš„æ—¶å€™ï¼Œè®²åˆ°äº†**å‰åºéå†**å’Œ**å±‚çº§éå†**ï¼Œè€Œè¿™ä¸¤è€…æœ¬è´¨ä¸Šå°±æ˜¯ DFS å’Œ BFSã€‚

DFS çš„ Swift å®ç°ï¼š

```
func dfs(_ root: Node?) {
    guard let root = root else {
        return
    }

    visit(root)
    root.visited = true

    for node in root.neighbors {
        if !node.visited {
            dfs(node)
        }
    }

}

```

BFS çš„ Swift å®ç°ï¼š

```
func bfs(_ root: Node?) {
    var queue = [Node]()

    if let root = root {
        queue.append(root)
    }

    while !queue.isEmpty {
        let current = queue.removeFirst()

        visit(current)
        current.visited = true

        for node in current.neighbors {
            if !node.visited {
                queue.append(node)
            }
        }
    }
}

```

æ°¸è¿œè®°ä½ï¼š**DFS çš„å®ç°ç”¨é€’å½’ï¼ŒBFS çš„å®ç°ç”¨å¾ªç¯ï¼ˆé…åˆé˜Ÿåˆ—ï¼‰**ã€‚

## iOS å®æˆ˜æ¼”ç»ƒ

ç¡…è°·é¢è¯• iOS å·¥ç¨‹å¸ˆï¼Œæœ‰è¿™æ ·ä¸€ä¸ªç¯èŠ‚ï¼Œç»™ä½  1 ~ 1.5 å°æ—¶ï¼Œä»å¤´å¼€å§‹å®ç°ä¸€ä¸ªå° Appã€‚æˆ‘ä»¬æ¥çœ‹è¿™æ ·ä¸€ä¸ªé¢˜ç›®ï¼š

> å®ç°ä¸€ä¸ªæ‰¾å•è¯ App : ç»™å®šä¸€ä¸ªåˆå§‹çš„å­—æ¯çŸ©é˜µï¼Œä½ å¯ä»¥ä»ä»»ä¸€å­—æ¯å¼€å§‹ï¼Œä¸Šä¸‹å·¦å³ï¼Œä»»æ„æ–¹å‘ã€ä»»æ„é•¿åº¦ï¼Œé€‰å‡ºå…¶ä¸­æ‰€æœ‰å•è¯ã€‚

![](https://upload-images.jianshu.io/upload_images/22877992-33c8d50ab4e53e04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å¾ˆå¤šäººæ‹¿åˆ°è¿™é“é¢˜ç›®å°±æ‡µäº†ï¼Œå®Œå…¨ä¸æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ UITableView æˆ–è€… UICollectionView å•Šï¼Œè¿™è¦å’‹æ•´ã€‚æˆ‘ä»¬æ¥ä¸€æ­¥æ­¥åˆ†æã€‚

**ç¬¬ä¸€æ­¥ï¼šå®ç°å­—æ¯çŸ©é˜µ**

é¦–å…ˆï¼Œæˆ‘ä»¬è‚¯å®šæœ‰ä¸ªå­—ç¬¦äºŒé˜¶çŸ©é˜µä½œä¸ºè¾“å…¥ï¼Œå§‘ä¸”è®°åšï¼š`matrix: [[Character]]`ã€‚ç°åœ¨è¦æŠŠå®ƒå±•ç°åœ¨æ‰‹æœºä¸Šï¼Œé‚£ä¹ˆå¯è¡Œçš„æ–¹æ³•ï¼Œå°±æ˜¯åˆ›å»ºä¸€ä¸ª UILabel äºŒç»´çŸ©é˜µï¼Œè®°åšÂ `labels: [[UILabel]]`ï¼ŒçŸ©é˜µä¸­æ¯ä¸€ä¸ª UILabel å¯¹åº”çš„å†…å®¹å°±æ˜¯ç›¸åº”çš„å­—æ¯ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤ 2 ä¸ªå…¨å±€å˜é‡ï¼ŒxOffset å’Œ yOffsetã€‚ç„¶ååœ¨forå¾ªç¯ä¸­åˆ›å»ºç›¸åº”çš„ UILabel åŒæ—¶å°†å…¶æ·»åŠ è¿› lables ä¸­ä¾¿äºä»¥åä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
var xOffset = 0
var yOffset = 0
let cellWidth = UIScreen.mainScreen().bounds.size.width / matrix[0].count
let cellHeight = UIScreen.mainScreen().bounds.size.height / matrix.count

for i in 0 ..< matrix.count {
  for j in 0 ..< matrix[0].count {
    let label = UILabel(frame: CGRect(x: xOffset, y: yOffset, width: cellWidth, height: cellHeight))
    label.text = String(matrix[i][j])
    view.addSubView(label)
    labels[i][j] = label
    xOffset += cellWidth
  }
  xOffset = 0
  yOffset += cellHeight
}

```

**ç¬¬äºŒæ­¥ï¼šç”¨ DFS å®ç°æœç´¢å•è¯**

ç°åœ¨è¦å®ç°æœç´¢å•è¯çš„æ ¸å¿ƒç®—æ³•äº†ã€‚æˆ‘ä»¬å…ˆç®€åŒ–è¦æ±‚ï¼Œå‡å¦‚åªåœ¨å­—æ¯çŸ©é˜µä¸­æœç´¢å•è¯ "crowd" è¯¥æ€ä¹ˆåšï¼Ÿ
é¦–å…ˆæˆ‘ä»¬è¦æ‰¾åˆ° "c" è¿™ä¸ªå­—æ¯æ‰€åœ¨çš„ä½ç½®ï¼Œç„¶åå†ä¸Šä¸‹å·¦å³æ‰¾ç¬¬äºŒä¸ªå­—æ¯ "r" ï¼Œæ¥ç€å†æ‰¾å­—æ¯ "o" Â·Â·Â·Â·Â·Â· ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰¾åˆ°æœ€åä¸€ä¸ªå­—æ¯ "d" ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„å­—æ¯ï¼Œæˆ‘ä»¬å°±å›å¤´å»é¦–å­—æ¯ "c" æ‰€åœ¨çš„å¦ä¸€ä¸ªä½ç½®ï¼Œé‡æ–°æœç´¢ã€‚

è¿™é‡Œè¦æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸èƒ½å›å¤´æœç´¢å­—æ¯ã€‚æ¯”å¦‚æˆ‘ä»¬å·²ç»ä» "c" å¼€å§‹å‘ä¸Šèµ°æœç´¢åˆ°äº† "r" ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸èƒ½ä» "r" å‘ä¸‹å›å¤´ -- å› ä¸º "c" å·²ç»è®¿é—®è¿‡äº†ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦ä¸€ä¸ª var visited: [[Bool]] æ¥è®°å½•è®¿é—®è®°å½•ã€‚ä»£ç å¦‚ä¸‹ï¼š

```
func searchWord(_ board: [[Character]]) -> Bool {
    guard board.count > 0 && board[0].count > 0 else {
        return false
    }

    let (m, n) = (board.count, board[0].count)
    var visited = Array(repeating: Array(repeating: false, count: n), count: m)

    for i in 0 ..< m {
        for j in 0 ..< n {
            if board[i][j] == "c" && dfs(board, Array("crowd"), m, n, i, j, &visited, 0) {
                return true
            }
        }
    }

    return false
}

func dfs(_ board: [[Character]], _ wordContent: [Character], _ m: Int, _ n: Int, _ i: Int, _ j: Int, _ visited: inout [[Bool]], _ index: Int) -> Bool {
    if index == wordContent.count {
        return true
    }

    guard i >= 0 && i < m && j >= 0 && j < n else {
        return false
    }
    guard !visited[i][j] && board[i][j] == wordContent[index] else {
        return false
    }

    visited[i][j] = true

    if dfs(board, wordContent, m, n, i + 1, j, &visited, index + 1) || dfs(board, wordContent, m, n, i - 1, j, &visited, index + 1) || dfs(board, wordContent, m, n, i, j + 1, &visited, index + 1) || dfs(board, wordContent, m, n, i, j - 1, &visited, index + 1) {
        return true
    }

    visited[i][j] = false
    return false
}

```

**ç¬¬ä¸‰æ­¥ï¼šä¼˜åŒ–ç®—æ³•ï¼Œè¿›é˜¶**

å¥½äº†ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†æ€ä¹ˆæœç´¢ä¸€ä¸ªå•è¯äº†ï¼Œé‚£ä¹ˆå¤šä¸ªå•è¯æ€ä¹ˆæœç´¢ï¼Ÿé¦–å…ˆé¢˜ç›®æ˜¯è¦æ±‚æ‰¾å‡ºæ‰€æœ‰çš„å•è¯ï¼Œé‚£ä¹ˆè‚¯å®šäº‹å…ˆæœ‰ä¸ªå­—å…¸ï¼Œæ ¹æ®è¿™ä¸ªå­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ‰€é€‰å­—æ¯æ˜¯ä¸æ˜¯å¯ä»¥æ„æˆä¸€ä¸ªå•è¯ã€‚æ‰€ä»¥é¢˜ç›®å°±å˜æˆäº†ï¼š

å·²çŸ¥ä¸€ä¸ªå­—æ¯æ„æˆçš„äºŒç»´çŸ©é˜µï¼Œå¹¶ç»™å®šä¸€ä¸ªå­—å…¸ã€‚é€‰å‡ºäºŒç»´çŸ©é˜µä¸­æ‰€æœ‰æ¨ªå‘æˆ–è€…çºµå‘çš„å•è¯ã€‚
ä¹Ÿå°±æ˜¯å®ç°ä»¥ä¸‹å‡½æ•°ï¼š

```
func findWords(_ board: [[Character]], _ dict: Set<String>) -> [String] {}

```

æˆ‘ä»¬åˆšæ‰å·²ç»çŸ¥é“å¦‚ä½•åœ¨çŸ©é˜µä¸­æœç´¢ä¸€ä¸ªå•è¯äº†ã€‚æ‰€ä»¥æœ€æš´åŠ›çš„åšæ³•ï¼Œå°±æ˜¯åœ¨çŸ©é˜µä¸­ï¼Œæœç´¢æ‰€æœ‰å­—å…¸ä¸­çš„å•è¯ï¼Œå¦‚æœå­˜åœ¨å°±æ·»åŠ åœ¨è¾“å‡ºä¸­ã€‚

è¿™ä¸ªåšæ³•æ˜¾ç„¶å¤æ‚åº¦æé«˜ï¼šé¦–å…ˆï¼Œæ¯æ¬¡ DFS çš„å¤æ‚åº¦å°±æ˜¯ O(n2 )ã€‚å­—æ¯çŸ©é˜µè¶Šå¤§ï¼Œæœç´¢æ—¶é—´å°±è¶Šé•¿ï¼›å…¶æ¬¡ï¼Œå­—å…¸å¯èƒ½ä¼šéå¸¸å¤§ï¼Œå¦‚æœæ¯ä¸ªå•è¯éƒ½æœç´¢ä¸€éï¼Œå¼€é”€å¤ªå¤§ã€‚è¿™ç§åšæ³•çš„æ€»å¤æ‚åº¦ä¸º O(mÂ· n2)ï¼Œå…¶ä¸­mä¸ºå­—å…¸ä¸­å•è¯çš„æ•°é‡ï¼Œn ä¸ºçŸ©é˜µçš„è¾¹é•¿ã€‚

è¿™æ—¶å°±è¦å¼•å…¥ Trie æ ‘(å‰ç¼€æ ‘) ã€‚å‰ç¼€æ ‘æ˜¯ä¸€ç§æœ‰åºæ ‘ï¼Œç”¨äºä¿å­˜å…³è”æ•°ç»„ï¼Œç‰¹åˆ«é€‚ç”¨äºä¿å­˜å­—ç¬¦ä¸²ã€‚å°±è¿™é“é¢˜ç›®è€Œè¨€ï¼Œé¦–å…ˆæˆ‘ä»¬æŠŠå­—å…¸è½¬åŒ–ä¸ºå‰ç¼€æ ‘ï¼Œè¿™æ ·çš„å¥½å¤„åœ¨äºå®ƒå¯ä»¥æ£€æµ‹çŸ©é˜µä¸­å­—æ¯æ„æˆçš„å‰ç¼€æ˜¯ä¸æ˜¯ä¸€ä¸ªå•è¯çš„å‰ç¼€ï¼Œå¦‚æœä¸æ˜¯å°±æ²¡å¿…è¦ç»§ç»­ DFS ä¸‹å»äº†ã€‚è¿™æ ·æˆ‘ä»¬å°±æŠŠæœç´¢å­—å…¸ä¸­çš„æ¯ä¸€ä¸ªå•è¯ï¼Œè½¬åŒ–ä¸ºäº†åªæœå­—æ¯çŸ©é˜µã€‚ä»£ç å¦‚ä¸‹ï¼š

```
func findWords(_ board: [[Character]], _ dict: Set<String>) -> [String] {
  var res = [String]()

  let (m, n) = (board.count, board[0].count)

  let trie = _convertSetToTrie(dict)
  var visited = Array(repeating: Array(repeating: false, count: n), count: m)

  for i in 0 ..< m {
    for j in 0 ..< n {
      _dfs(board, m, n, i, j, &visited, &res, trie, "")
    }
  }

  return res
}

private func _dfs(_ board: [[Character]], _ m: Int, _ n: Int, _ i: Int, _ j: Int, inout _ visited: [[Bool]], inout _ res: [String], _ trie: Trie, _ str: String) {
  // è¶Šç•Œ
  guard i >= 0 && i < m && j >= 0 && j < n else {
    return
  }

  // å·²ç»è®¿é—®è¿‡äº†
  guard !visited[i][j] else {
    return
  }

  // æœç´¢ç›®å‰å­—æ¯ç»„åˆæ˜¯å¦æ˜¯å•è¯å‰ç¼€
  var str = str + "\(board[i][j])"
  guard trie.prefixWith(str) else {
    return
  }

  // ç¡®è®¤å½“å‰å­—æ¯ç»„åˆæ˜¯å¦ä¸ºå•è¯
  if trie.isWord(str) && !res.contains(str) {
    res.append(str)
  }

  // ç»§ç»­æœç´¢ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
  visited[i][j] = true
  _dfs(board, m, n, i + 1, j, &visited, &res, trie, str)
  _dfs(board, m, n, i - 1, j, &visited, &res, trie, str)
  _dfs(board, m, n, i, j + 1, &visited, &res, trie, str)
  _dfs(board, m, n, i, j - 1, &visited, &res, trie, str)
  visited[i][j] = false
}

```

è¿™é‡Œå¯¹ Trie ä¸åšæ·±å…¥å±•å¼€ï¼Œæœ‰å…´è¶£çš„æœ‹å‹è‡ªè¡Œç ”ç©¶ã€‚

## æ€»ç»“

æ·±åº¦ä¼˜å…ˆéå†å’Œå¹¿åº¦ä¼˜å…ˆéå†æ˜¯ç®—æ³•ä¸­ç•¥å¾®é«˜é˜¶çš„éƒ¨åˆ†ï¼Œå®é™…å¼€å‘ä¸­ï¼Œå®ƒä¹Ÿå¤šä¸åœ°å›¾è·¯å¾„ã€æ£‹ç›˜æ¸¸æˆç›¸å…³ã€‚è™½ç„¶ä¸æ˜¯å¾ˆå¸¸è§ï¼Œä½†æ˜¯ç†è§£å…¶åŸºæœ¬åŸç†å¹¶èƒ½ç†Ÿç»ƒè¿ç”¨ï¼Œç›¸ä¿¡å¯ä»¥ä½¿å¤§å®¶çš„å¼€å‘åŠŸåŠ›æ›´ä¸Šä¸€å±‚æ¥¼ã€‚

# 7. åŠ¨æ€è§„åˆ’
ä¹‹å‰çš„ç« èŠ‚ä¸­ï¼Œåˆ†æçš„é—®é¢˜å¤§å¤šæ¯”è¾ƒå…·ä½“ç›´æ¥ â€”â€” å¯ä»¥ç›´æ¥å¥—ç”¨ä¸€ç§æ–¹æ³•è§£å†³ã€‚ä»Šå¤©è¦è®²çš„åŠ¨æ€è§„åˆ’ï¼Œå…¶é¢å¯¹çš„é—®é¢˜é€šå¸¸æ˜¯æ— æ³•ä¸€è¹´è€Œå°±ï¼Œéœ€è¦æŠŠå¤æ‚çš„é—®é¢˜åˆ†è§£æˆç®€å•å…·ä½“çš„å°é—®é¢˜ï¼Œç„¶åé€šè¿‡æ±‚è§£ç®€å•é—®é¢˜ï¼Œå»æ¨å‡ºå¤æ‚é—®é¢˜çš„æœ€ç»ˆè§£ã€‚
![](https://upload-images.jianshu.io/upload_images/22877992-b0aeff2081334787.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å½¢è±¡çš„ç†è§£å°±æ˜¯ä¸ºäº†æ¨å€’ä¸€ç³»åˆ—çº¸ç‰Œä¸­çš„ç¬¬ 100 å¼ çº¸ç‰Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦å…ˆæ¨å€’ç¬¬ 1 å¼ ï¼Œå†ä¾é å¤šç±³è¯ºéª¨ç‰Œæ•ˆåº”ï¼Œå»æ¨å€’ç¬¬ 100 å¼ ã€‚

## å®ä¾‹è®²è§£

> æ–æ³¢æ‹‰å¥‘æ•°åˆ—æ˜¯è¿™æ ·ä¸€ä¸ªæ•°åˆ—ï¼š1, 1, 2, 3, 5, 8, ... é™¤äº†ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°å­—ä¸º 1 ä»¥å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½ä¸ºä¹‹å‰ä¸¤ä¸ªæ•°å­—ä¹‹å’Œã€‚ç°åœ¨è¦æ±‚ç¬¬ 100 ä¸ªæ•°å­—æ˜¯å¤šå°‘ã€‚

è¿™é“é¢˜ç›®ä¹ä¸€çœ‹æ˜¯ä¸€ä¸ªæ•°å­¦é¢˜ï¼Œé‚£ä¹ˆè¦æ±‚ç¬¬ 100 ä¸ªæ•°å­—ï¼Œå¾ˆç®€å•ï¼Œä¸€ä¸ªä¸ªæ•°å­—ç®—ä¸‹å»å°±æ˜¯äº†ã€‚å‡è®¾ F(n) è¡¨ç¤ºç¬¬ n ä¸ªæ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„æ•°å­—ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜“å¾—å…¬å¼ F(n) = F(n - 1) + F(n - 2)ï¼Œn >= 2 ï¼Œä¸‹é¢å°±æ˜¯ä½“åŠ›æ´»ã€‚å½“ç„¶è¿™é“é¢˜è½¬åŒ–æˆä»£ç ä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œæœ€ç²—æš´çš„è§£æ³•å¦‚ä¸‹ï¼š

```
// æ­¤æ–¹æ³•ä¼šå› ä¸ºæ ˆæº¢å‡ºè€Œå´©æºƒ
func Fib() -> Int {
  var (prev, curr) = (0, 1)

  for _ in 1 ..< 100 {
    (curr, prev) = (curr + prev, curr)
  }

  return curr
}

```

ç”¨åŠ¨æ€è§„åˆ’æ€ä¹ˆå†™å‘¢ï¼Ÿé¦–å…ˆè¦æ˜ç™½åŠ¨æ€è§„åˆ’æœ‰ä»¥ä¸‹å‡ ä¸ªä¸“æœ‰åè¯ï¼š

**1ï¼‰åˆå§‹çŠ¶æ€**ï¼Œå³æ­¤é—®é¢˜çš„æœ€ç®€å•å­é—®é¢˜çš„è§£ã€‚åœ¨æ–æ³¢æ‹‰å¥‘æ•°åˆ—é‡Œï¼Œæœ€ç®€å•çš„é—®é¢˜æ˜¯ï¼Œä¸€å¼€å§‹ç»™å®šçš„ç¬¬ä¸€ä¸ªæ•°å’Œç¬¬äºŒä¸ªæ•°æ˜¯å‡ ï¼Ÿè‡ªç„¶æˆ‘ä»¬å¯ä»¥å¾—å‡ºæ˜¯ 1ï¼›
**2ï¼‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹**ï¼Œå³ç¬¬nä¸ªé—®é¢˜çš„è§£å’Œä¹‹å‰çš„ n - m ä¸ªé—®é¢˜è§£çš„å…³ç³»ã€‚åœ¨è¿™é“é¢˜ç›®é‡Œï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ F(n) = F(n - 1) + F(n - 2)ã€‚

æ‰€ä»¥è¿™é¢˜è¦æ±‚ F(100)ï¼Œé‚£æˆ‘ä»¬åªè¦çŸ¥é“ F(99) å’Œ F(98) å°±è¡Œäº†ï¼›æƒ³çŸ¥é“ F(99)ï¼Œæˆ‘ä»¬åªè¦çŸ¥é“ F(98) å’Œ F(97) å°±è¡Œäº†ï¼›æƒ³è¦çŸ¥é“ F(98)ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ F(97) å’Œ F(96) ...... ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬æœ€ååªè¦çŸ¥é“F(2)å’ŒF(1)çš„å€¼ï¼Œå°±å¯ä»¥æ¨å‡º F(100)ã€‚è€Œ F(2) å’Œ F(1) æ­£æ˜¯æˆ‘ä»¬æ‰€è°“çš„åˆå§‹çŠ¶æ€ï¼Œå³ F(2) = 1ï¼ŒF(1) =1ã€‚æ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š

```
func Fib(_ n: Int) -> Int {
  // å®šä¹‰åˆå§‹çŠ¶æ€
  guard n > 0 else {
    return 0
  }
  if n == 1 || n == 2 {
    return 1
  }

  // è°ƒç”¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹
  return Fib(n - 1) + Fib(n - 2)
}

print(Fib(100))

```

![æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„åŠ¨æ€è§„åˆ’](https://upload-images.jianshu.io/upload_images/22877992-93f6fc62a9f0920e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

è¿™ç§é€’å½’çš„å†™æ³•çœ‹èµ·æ¥ç®€æ´æ˜äº†ï¼Œä½†æ˜¯ä¸Šé¢å†™æ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬è¦æ±‚ F(100)ï¼Œé‚£ä¹ˆè¦è®¡ç®— F(99) å’Œ F(98) ï¼›è¦è®¡ç®— F(99)ï¼Œæˆ‘ä»¬è¦è®¡ç®— F(98) å’Œ F(97) ...... å¤§å®¶å·²ç»å‘ç°åˆ°è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»é‡å¤è®¡ç®—ä¸¤æ¬¡F(98) äº†ã€‚è€Œä¹‹åçš„è®¡ç®—ä¸­è¿˜ä¼šæœ‰å¤§é‡çš„é‡å¤ï¼Œè¿™ä½¿å¾—è¿™ä¸ªè§£æ³•çš„å¤æ‚åº¦éå¸¸ä¹‹é«˜ã€‚è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œç”¨ä¸€ä¸ªæ•°ç»„ï¼Œå°†è®¡ç®—è¿‡çš„å€¼å­˜èµ·æ¥ï¼Œè¿™æ ·å¯ä»¥ç”¨ç©ºé—´ä¸Šçš„ç‰ºç‰²æ¥æ¢å–æ—¶é—´ä¸Šçš„æ•ˆç‡æé«˜ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
var nums = Array(repeating: 0, count: 100)

func Fib(_ n: Int) -> Int {
  // å®šä¹‰åˆå§‹çŠ¶æ€
  guard n > 0 else {
    return 0
  }
  if n == 1 || n == 2 {
    return 1
  }
  // å¦‚æœå·²ç»è®¡ç®—è¿‡ï¼Œç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é‡å¤è®¡ç®—
  if nums[n - 1] != 0 {
    return nums[n - 1]
  }

  // å°†è®¡ç®—åçš„å€¼å­˜å…¥æ•°ç»„
  nums[n - 1] = Fib(n - 1) + Fib(n - 2)

  return nums[n - 1]
}

```

åŠ¨æ€è½¬ç§»è™½ç„¶çœ‹ä¸Šå»ååˆ†é«˜å¤§ä¸Šï¼Œä½†åœ¨é¢è¯•ä¸­é‡åˆ°ç›¸å…³é—®é¢˜è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š

*   **æ ˆæº¢å‡ºï¼š**æ¯ä¸€æ¬¡é€’å½’ï¼Œç¨‹åºéƒ½ä¼šå°†å½“å‰çš„è®¡ç®—å‹å…¥æ ˆä¸­ã€‚éšç€é€’å½’æ·±åº¦çš„åŠ æ·±ï¼Œæ ˆçš„é«˜åº¦ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼Œç›´åˆ°è¶…è¿‡è®¡ç®—æœºåˆ†é…ç»™å½“å‰è¿›ç¨‹çš„å†…å­˜å®¹é‡ï¼Œç¨‹åºå°±ä¼šå´©æºƒã€‚
*   **æ•°æ®æº¢å‡ºï¼š**å› ä¸ºåŠ¨æ€è§„åˆ’æ˜¯ä¸€ç§ç”±ç®€è‡³ç¹çš„è¿‡ç¨‹ï¼Œå…¶ä¸­ç§¯è“„çš„æ•°æ®å¾ˆæœ‰å¯èƒ½è¶…è¿‡ç³»ç»Ÿ å½“å‰æ•°æ®ç±»å‹çš„æœ€å¤§å€¼ï¼Œä»è€Œå¯¼è‡´ç¨‹åºæŠ›å‡ºå¼‚å¸¸ã€‚

è¿™ä¸¤ç‚¹ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢è¿™é“æ±‚è§£æ–æ³¢æ‹‰å¥‘æ•°åˆ—ç¬¬100ä¸ªæ•°çš„é¢˜ç›®å°±éƒ½é‡åˆ°äº†ã€‚

*   é¦–å…ˆï¼Œé€’å½’çš„æ¬¡æ•°å¾ˆå¤šï¼Œæˆ‘ä»¬è¦ä» F(100) = F(99) + F(98) ï¼Œä¸€ç›´æ¨ç†åˆ° F(3) = F(2) + F(1)ï¼Œè¿™æ ·å¾ˆå®¹æ˜“é€ æˆæ ˆæº¢å‡ºã€‚
*   å…¶æ¬¡ï¼ŒF(100) åº”è¯¥æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ã€‚å®é™…ä¸Š F(40) å°±å·²ç»çªç ´ä¸€äº¿ï¼ŒF(100) ä¸€å®šä¼šé€ æˆæ•´å‹æ•°æ®æº¢å‡ºã€‚

å½“ç„¶å¯¹äºè¿™ä¸¤ç‚¹æˆ‘ä»¬ä¹Ÿæœ‰ç›¸åº”çš„è§£å†³æ–¹æ³•ã€‚å¯¹ä»˜æ ˆæº¢å‡ºï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé€’å½’å†™æˆå¾ªç¯çš„å½¢å¼ï¼ˆ**æ‰€æœ‰çš„é€’å½’éƒ½å¯æ”¹å†™æˆå¾ªç¯**ï¼‰ï¼›å¯¹ä»˜æ•°æ®æº¢å‡ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¨‹åºæ¯æ¬¡è®¡ç®—ä¸­ï¼ŒåŠ å…¥æ•°æ®æº¢å‡ºçš„æ£€æµ‹ï¼Œé€‚æ—¶ç»ˆæ­¢è®¡ç®—ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚

## æ–æ³¢æ‹‰å¥‘æ•°åˆ—é—®é¢˜é¢è¯•å®æˆ˜é¢˜

ç¬”è€…ä»¥å‰åœ¨ç¡…è°·å‚åŠ äº†ä¸€ä¸ª hackthon å¤§èµ›ï¼Œå½“æ—¶æ˜¯è¦åšä¸€ä¸ªæ‰«æè‹±æ–‡å•è¯å‡ºç¿»è¯‘çš„ Appã€‚å®ƒå¤§æ¦‚é•¿è¿™æ ·ï¼š

![image](https://upload-images.jianshu.io/upload_images/22877992-cd6fabd5da1244dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å½“æ—¶è¿™ä¸ª App å…¶ä»–éƒ¨åˆ†è¿è¡Œéå¸¸æµç•…ï¼Œå°±æ˜¯åœ¨æ‰“å¼€æ‘„åƒå¤´æ‰«æå•è¯çš„æ—¶å€™ï¼Œä¼šå‡ºç°è¯¯è¯»çš„æƒ…å†µã€‚æ¯”å¦‚æ‰‹å†™çš„ â€œpriceâ€ï¼Œæœºå™¨ä¼šè¯†åˆ«æˆ â€œpr1ceâ€ï¼Œä»è€Œæ— æ³•å¯¹å…¶è¿›è¡Œæ­£ç¡®çš„ç¿»è¯‘ã€‚ç¬”è€…å¯¹è¿™ç§æƒ…å†µè¿›è¡Œäº†ç›¸åº”çš„ä¼˜åŒ–å¤„ç†ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š

**1ï¼‰ ç¼©å°è¯¯å·®èŒƒå›´ï¼š**å°†æ‰€æœ‰çš„å•è¯æ„é€ æˆå‰ç¼€æ ‘ã€‚ç„¶åå¯¹äºæ‰«æçš„å†…å®¹ï¼Œæœç´¢å‡ºç›¸åº”å¯èƒ½çš„å•è¯ã€‚å…·ä½“åšæ³•å¯ä»¥å‚è€ƒä¸ŠèŠ‚ã€Šæ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆã€‹ä¸€æ–‡ä¸­æœç´¢å•è¯çš„æ–¹æ³•ã€‚
**2ï¼‰ è®¡ç®—å‡ºæœ€æ¥è¿‘çš„å•è¯ï¼š**å‡å¦‚ä¸Šä¸€æ­¥ï¼Œæˆ‘ä»¬å·²ç»æœ‰äº†10ä¸ªå¯èƒ½çš„å•è¯ï¼Œé‚£ä¹ˆæ€ä¹ˆç¡®å®šæœ€æ¥è¿‘çœŸå®æƒ…å†µçš„å•è¯å‘¢ï¼Ÿè¿™é‡Œæˆ‘ä»¬è¦å®šä¹‰ä¸¤ä¸ªå•è¯çš„è·ç¦» -- ä»ç¬¬ä¸€ä¸ªå•è¯wordAï¼Œåˆ°ç¬¬äºŒä¸ªå•è¯wordBï¼Œæœ‰ä¸‰ç§æ“ä½œï¼š

*   åˆ é™¤ä¸€ä¸ªå­—ç¬¦
*   æ·»åŠ ä¸€ä¸ªå­—ç¬¦
*   æ›¿æ¢ä¸€ä¸ªå­—ç¬¦

ç»¼åˆä¸Šè¿°ä¸‰ç§æ“ä½œï¼Œç”¨**æœ€å°‘æ­¥éª¤**å°†å•è¯wordAå˜åˆ°å•è¯wordBï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸ªå€¼ä¸ºä¸¤ä¸ªå•è¯ä¹‹é—´çš„è·ç¦»ã€‚æ¯”å¦‚ pr1ce -> priceï¼Œåªéœ€è¦å°† 1 æ›¿æ¢ä¸º i å³å¯ï¼Œæ‰€ä»¥ä¸¤ä¸ªå•è¯ä¹‹é—´çš„è·ç¦»ä¸º1ã€‚pr1ce -> prizeï¼Œè¦å°† 1 æ›¿æ¢ä¸º i ï¼Œå†å°† c æ›¿æ¢ä¸º z ï¼Œæ‰€ä»¥ä¸¤ä¸ªå•è¯ä¹‹é—´çš„è·ç¦»ä¸º2ã€‚ç›¸æ¯”äºprizeï¼Œpriceæ›´ä¸ºæ¥è¿‘åŸæ¥çš„å•è¯ã€‚

ç°åœ¨é—®é¢˜è½¬å˜ä¸ºå®ç°ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼š

```
func wordDistance(_ wordA: String, wordB: String) -> Int { ... }

```

è¦è§£å†³è¿™ä¸ªå¤æ‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¦‚ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å‡ºå‘ï¼šæ±‚ â€œabceâ€ åˆ° â€œabdfâ€ ä¹‹é—´çš„è·ç¦»ã€‚å®ƒä»¬ä¸¤ä¹‹é—´çš„è·ç¦»ï¼Œæ— éæ˜¯ä¸‹é¢ä¸‰ç§æƒ…å†µä¸­çš„ä¸€ç§ã€‚

*   åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼šå‡å¦‚å·²çŸ¥Â `wordDistance("abc", "abdf")`Â ï¼Œé‚£ä¹ˆ â€œabceâ€ åªéœ€è¦åˆ é™¤ä¸€ä¸ªå­—ç¬¦åˆ°è¾¾ â€œabcâ€ ï¼Œç„¶åå°±å¯ä»¥å¾—çŸ¥ â€œabceâ€ åˆ° â€œabdfâ€ ä¹‹é—´çš„è·ç¦»ã€‚
*   æ·»åŠ ä¸€ä¸ªå­—ç¬¦ï¼šå‡å¦‚å·²çŸ¥Â `wordDistance("abce", "abd")`ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦è®© â€œabdâ€ æ·»åŠ ä¸€ä¸ªå­—ç¬¦åˆ°è¾¾ â€œabdfâ€ å³å¯æ±‚å‡ºæœ€ç»ˆè§£ã€‚
*   æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ï¼šå‡å¦‚å·²çŸ¥Â `wordDistance("abc", "abd")`ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¾æ­¤æ¨å‡º`wordDistance("abce", "abde") = wordDistance("abc", "abd")`ã€‚æ•…è€Œåªè¦å°†æœ«å°¾çš„ â€œeâ€ æ›¿æ¢æˆ "f"ï¼Œå°±å¯ä»¥å¾—å‡ºÂ `wordDistance("abce", "abdf")`ã€‚

è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å‘ç°ï¼Œæ±‚è§£ä»»æ„ä¸¤ä¸ªå•è¯ä¹‹é—´çš„è·ç¦»ï¼Œåªè¦çŸ¥é“ä¹‹å‰å•è¯ç»„åˆçš„è·ç¦»å³å¯ã€‚æˆ‘ä»¬ç”¨dp[i][j]è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² wordA[0â€¦i] å’Œç¬¬ 2 ä¸ªå­—ç¬¦ä¸² wordB[0â€¦j] çš„æœ€çŸ­ç¼–è¾‘è·ç¦»ï¼Œé‚£ä¹ˆè¿™ä¸ªåŠ¨æ€è§„åˆ’çš„ä¸¤ä¸ªé‡è¦å‚æ•°åˆ†åˆ«æ˜¯ï¼š

*   **åˆå§‹çŠ¶æ€ï¼š**dp[0][j] = jï¼Œdp[i][0] = i
*   **çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š**dp[i][j] = min(dp[i - 1][j - 1], dp[i - 1][j], dp[i][j - 1]) + 1

å†ä¸¾ä¾‹è§£é‡Šä¸€ä¸‹ï¼Œ"abc" åˆ° "xyz"ï¼Œdp[2][1] å°±æ˜¯ "ab" åˆ° "x" çš„è·ç¦»ï¼Œä¸éš¾çœ‹å‡ºæ˜¯ 2ï¼›dp[1][2] å°±æ˜¯ "a" åˆ° "xy" çš„è·ç¦»ï¼Œæ˜¯ 2ï¼›dp[1][1] ä¹Ÿå°±æ˜¯ "a" åˆ° "x" çš„è·ç¦»ï¼Œå¾ˆæ˜¾ç„¶å°±æ˜¯ 1ã€‚æ‰€ä»¥ dp[2][2] å³ "ab" åˆ° "xy" çš„è·ç¦»æ˜¯ min(dp[2][1], dp[1][2], dp[1][1]) + 1 å°±æ˜¯ 2ã€‚

æœ‰äº†åˆå§‹çŠ¶æ€å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œé‚£ä¹ˆåŠ¨æ€è§„åˆ’çš„ä»£ç å°±å‡ºæ¥äº†ï¼š

```
func wordDistance(_ wordA: String, _ wordB: String) -> Int {
  let aChars = Array(wordA), bChars = Array(wordB)
  let aLen = aChars.count, bLen = bChars.count

  var dp = Array(repeating: (Array(repeating: 0, count: bLen + 1)), count: aLen + 1)

  for i in 0 ... aLen {
    for j in 0 ... bLen {
      // åˆå§‹æƒ…å†µ
      if i == 0 {
        dp[i][j] = j
      } else if j == 0 {
        dp[i][j] = i
      // ç‰¹æ®Šæƒ…å†µ
      } else if aChars[i - 1] == bChars[j - 1] {
        dp[i][j] = dp[i - 1][j - 1]
      } else {
        // çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        dp[i][j] = min(dp[i - 1][j - 1], dp[i - 1][j], dp[i][j - 1]) + 1
      }
    }
  }

  return dp[aLen][bLen]
}

```

ç”¨åŠ¨æ€è§„åˆ’è®¡ç®—å‡ºå•è¯ä¹‹é—´çš„è·ç¦»ä¹‹åï¼Œåœ¨åšä¸€äº›ç›¸åº”çš„ä¼˜åŒ–ï¼Œå°±å¯ä»¥å‡†ç¡®çš„è¯†åˆ«å‡ºæ‰«æçš„å•è¯ã€‚

## æ€»ç»“

åŠ¨æ€è§„åˆ’ç®—æ˜¯ç®—æ³•è¿›é˜¶ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç¯ï¼Œå®ƒçš„æ€æƒ³å°±æ˜¯æŠŠå¤æ‚é—®é¢˜åŒ–ä¸ºç®€å•å…·ä½“é—®é¢˜ï¼Œç„¶ååˆ†æå‡ºåˆå§‹çŠ¶æ€å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä»è€Œæ¨å‡ºæœ€ç»ˆè§£ã€‚ä¹Ÿè®¸å®ƒåœ¨å®é™…ç¼–ç¨‹æˆ–æ˜¯ iOS å¼€å‘ä¸­å‡ºç°é¢‘ç‡ä¸é«˜ï¼Œä½†æ˜¯è¿™ç§åˆ ç¹å°±ç®€çš„æ€è·¯ï¼Œå´å¯ä»¥åº”ç”¨åœ¨ç”Ÿæ´»æˆ–è€…å·¥ä½œä¸­çš„æ–¹æ–¹é¢é¢ã€‚
# æ¨èğŸ‘‡ï¼š

å¦‚æœä½ æ­£åœ¨è·³æ§½æˆ–è€…æ­£å‡†å¤‡è·³æ§½ä¸å¦¨åŠ¨åŠ¨å°æ‰‹ï¼Œæ·»åŠ ä¸€ä¸‹å’±ä»¬çš„äº¤æµç¾¤[**931 542 608**](https://jq.qq.com/?_wv=1027&k=cfVxrMAH)æ¥è·å–ä¸€ä»½è¯¦ç»†çš„å¤§å‚é¢è¯•èµ„æ–™ä¸ºä½ çš„è·³æ§½å¤šæ·»ä¸€ä»½ä¿éšœã€‚

![](https://upload-images.jianshu.io/upload_images/22877992-0bfc037cc50cae7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
